// Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ø§Ù„Ù„Ø§Ø²Ù…Ø© Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¨ÙˆØª
const Discord = require('discord.js'); // Ù…ÙƒØªØ¨Ø© Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
const client = new Discord.Client({ // Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù…ÙŠÙ„ Ø¬Ø¯ÙŠØ¯ Ù„Ù„Ø¨ÙˆØª
    intents: [ // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù†ÙˆØ§ÙŠØ§ (Intents) Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ù…ÙŠØ²Ø§Øª
        Discord.GatewayIntentBits.Guilds,           // Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ø³ÙŠØ±ÙØ±Ø§Øª
        Discord.GatewayIntentBits.GuildMessages,    // Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø±Ø³Ø§Ø¦Ù„
        Discord.GatewayIntentBits.MessageContent,   // Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„
        Discord.GatewayIntentBits.GuildMembers,     // Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡
        Discord.GatewayIntentBits.GuildPresences,   // ØªØªØ¨Ø¹ Ø­Ø§Ù„Ø© Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡
        Discord.GatewayIntentBits.GuildVoiceStates, // Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù‚Ù†ÙˆØ§Øª Ø§Ù„ØµÙˆØªÙŠØ©
        Discord.GatewayIntentBits.GuildMessageReactions // Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„ØªÙØ§Ø¹Ù„Ø§Øª
    ]
});

// Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø£Ø³Ø§Ø³ÙŠØ© Ù„Ù„Ø¨ÙˆØª
const prefix = '!'; // Ø§Ù„Ø¨Ø§Ø¯Ø¦Ø© Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ø£ÙˆØ§Ù…Ø±
const fs = require('fs'); // Ù…ÙƒØªØ¨Ø© Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ù„ÙØ§Øª
const config = require('./config.json'); // Ù…Ù„Ù Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª (ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø§Ù„ØªÙˆÙƒÙ†)
const { QuickDB } = require('quick.db'); // Ù…ÙƒØªØ¨Ø© Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø³ÙŠØ·Ø©
const db = new QuickDB(); // ØªÙ‡ÙŠØ¦Ø© Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

// Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ®Ø²ÙŠÙ† Ù„Ù…Ø®ØªÙ„Ù Ø§Ù„Ø£Ù†Ø¸Ù…Ø©
client.commands = new Discord.Collection(); // Ù…Ø¬Ù…ÙˆØ¹Ø© Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø£ÙˆØ§Ù…Ø±
client.cooldowns = new Discord.Collection(); // ØªØªØ¨Ø¹ ÙØªØ±Ø§Øª Ø§Ù„ØªÙ‡Ø¯Ø¦Ø©
client.tickets = new Map(); // ØªØªØ¨Ø¹ ØªØ°Ø§ÙƒØ± Ø§Ù„Ø¯Ø¹Ù…
client.economy = new Map(); // ØªØ®Ø²ÙŠÙ† Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§Ù‚ØªØµØ§Ø¯
client.autoResponses = new Map(); // ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø±Ø¯ÙˆØ¯ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©
client.reputation = new Map(); // ØªØ®Ø²ÙŠÙ† Ù†Ù‚Ø§Ø· Ø§Ù„Ø³Ù…Ø¹Ø©
client.stats = new Map(); // ØªØ®Ø²ÙŠÙ† Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†

// ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ù…Ù† Ù…Ø¬Ù„Ø¯ "commands"
const commandFiles = fs.readdirSync('./commands').filter(file => file.endsWith('.js')); // Ù‚Ø±Ø§Ø¡Ø© Ù…Ù„ÙØ§Øª Ø§Ù„Ø£ÙˆØ§Ù…Ø±
for (const file of commandFiles) { // ØªÙƒØ±Ø§Ø± Ø¹Ù„Ù‰ ÙƒÙ„ Ù…Ù„Ù
    const command = require(`./commands/${file}`); // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù
    client.commands.set(command.name, command); // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø£Ù…Ø± Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©
    console.log(`ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù…Ø±: ${command.name}`); // ØªØ³Ø¬ÙŠÙ„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù…Ø±
}

// Ø¹Ù†Ø¯Ù…Ø§ ÙŠÙƒÙˆÙ† Ø§Ù„Ø¨ÙˆØª Ø¬Ø§Ù‡Ø²Ù‹Ø§ Ù„Ù„Ø¹Ù…Ù„
client.once('ready', () => { // Ø­Ø¯Ø« ÙŠØªÙ… ØªØ´ØºÙŠÙ„Ù‡ Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªØ¹Ø¯Ø§Ø¯
    console.log(`Ø§Ù„Ø¨ÙˆØª Ø¬Ø§Ù‡Ø²! ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙƒÙ€ ${client.user.tag}`); // ØªØ£ÙƒÙŠØ¯ Ø§Ù„ØªØ´ØºÙŠÙ„
    client.user.setActivity('!help | Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø³ÙŠØ±ÙØ±', { type: 'PLAYING' }); // ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø£ÙˆÙ„ÙŠØ©

    // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø¨ÙˆØª Ø¨Ø´ÙƒÙ„ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ
    setInterval(() => { // ØªÙƒØ±Ø§Ø± ÙƒÙ„ 30 Ø«Ø§Ù†ÙŠØ©
        const statuses = [ // Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø­Ø§Ù„Ø§Øª Ø§Ù„Ù…Ù…ÙƒÙ†Ø©
            `ÙŠØ±Ø§Ù‚Ø¨ ${client.guilds.cache.size} Ø³ÙŠØ±ÙØ±`, // Ø¹Ø±Ø¶ Ø¹Ø¯Ø¯ Ø§Ù„Ø³ÙŠØ±ÙØ±Ø§Øª
            `ÙŠØ®Ø¯Ù… ${client.users.cache.size} Ù…Ø³ØªØ®Ø¯Ù…`, // Ø¹Ø±Ø¶ Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
            'Ø§Ø³ØªØ®Ø¯Ù… !help Ù„Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©', // ØªØ¹Ù„ÙŠÙ…Ø§Øª Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…
            'ØªÙ… ØªØ·ÙˆÙŠØ±ÙŠ Ø¨ÙˆØ§Ø³Ø·Ø© xAI', // Ø¥Ø´Ø§Ø±Ø© Ù„Ù„Ù…Ø·ÙˆØ±
            `Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠ: ${new Date().toLocaleTimeString()}` // Ø¹Ø±Ø¶ Ø§Ù„ÙˆÙ‚Øª
        ];
        const randomStatus = statuses[Math.floor(Math.random() * statuses.length)]; // Ø§Ø®ØªÙŠØ§Ø± Ø­Ø§Ù„Ø© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©
        client.user.setActivity(randomStatus, { type: 'WATCHING' }); // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø©
    }, 30000); // Ø§Ù„Ù…Ø¯Ø© Ø¨Ø§Ù„Ù…ÙŠÙ„ÙŠ Ø«Ø§Ù†ÙŠØ©
});

// Ø§Ù„ØªØ±Ø­ÙŠØ¨ Ø¨Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ø¬Ø¯Ø¯
client.on('guildMemberAdd', async member => { // Ø­Ø¯Ø« Ø§Ù†Ø¶Ù…Ø§Ù… Ø¹Ø¶Ùˆ Ø¬Ø¯ÙŠØ¯
    const welcomeChannel = member.guild.channels.cache.find(ch => ch.name === 'welcome'); // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ù‚Ù†Ø§Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨
    if (!welcomeChannel) return; // Ø§Ù„ØªÙˆÙ‚Ù Ø¥Ø°Ø§ Ù„Ù… ØªÙˆØ¬Ø¯ Ø§Ù„Ù‚Ù†Ø§Ø©

    // Ø¥Ø¹Ø¯Ø§Ø¯ Ø±Ø³Ø§Ù„Ø© ØªØ±Ø­ÙŠØ¨ Ù…Ø®ØµØµØ©
    const welcomeEmbed = new Discord.EmbedBuilder() // Ø¥Ù†Ø´Ø§Ø¡ Embed Ø¬Ø¯ÙŠØ¯
        .setColor('#00ff00') // ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø£Ø®Ø¶Ø±
        .setTitle('ğŸ‰ Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ùƒ ÙÙŠ Ø§Ù„Ø³ÙŠØ±ÙØ±!') // ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø¹Ù†ÙˆØ§Ù†
        .setDescription(`Ø£Ù‡Ù„Ø§Ù‹ ${member} ÙÙŠ **${member.guild.name}**!\nØ£Ù†Øª Ø§Ù„Ø¹Ø¶Ùˆ Ø±Ù‚Ù… **${member.guild.memberCount}**`) // Ø§Ù„ÙˆØµÙ
        .setThumbnail(member.user.displayAvatarURL()) // ØµÙˆØ±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        .addFields( // Ø¥Ø¶Ø§ÙØ© Ø­Ù‚ÙˆÙ„
            { name: 'ğŸ“œ Ø§Ù„Ù‚ÙˆØ§Ù†ÙŠÙ†', value: 'ÙŠØ±Ø¬Ù‰ Ù‚Ø±Ø§Ø¡Ø© Ù‚Ù†Ø§Ø© #rules', inline: true }, // Ø­Ù‚Ù„ Ø§Ù„Ù‚ÙˆØ§Ù†ÙŠÙ†
            { name: 'ğŸ‘‹ Ù‚Ù„ Ù…Ø±Ø­Ø¨Ù‹Ø§', value: 'ØªÙˆØ¬Ù‡ Ø¥Ù„Ù‰ #general', inline: true }, // Ø­Ù‚Ù„ Ø§Ù„Ø¯Ø±Ø¯Ø´Ø©
            { name: 'â„¹ï¸ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª', value: 'Ø§Ø³ØªØ®Ø¯Ù… !help Ù„Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©', inline: true } // Ø­Ù‚Ù„ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©
        )
        .setFooter({ text: 'Ù†ØªÙ…Ù†Ù‰ Ù„Ùƒ Ø¥Ù‚Ø§Ù…Ø© Ù…Ù…ØªØ¹Ø©!' }) // ØªØ°ÙŠÙŠÙ„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©
        .setTimestamp(); // Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠ

    await welcomeChannel.send({ embeds: [welcomeEmbed] }); // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©

    // Ø¥Ø¶Ø§ÙØ© Ø±ØªØ¨Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ©
    const role = member.guild.roles.cache.find(r => r.name === 'Ø¹Ø¶Ùˆ Ø¬Ø¯ÙŠØ¯'); // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø±ØªØ¨Ø©
    if (role) { // Ø¥Ø°Ø§ ÙˆØ¬Ø¯Øª Ø§Ù„Ø±ØªØ¨Ø©
        try {
            await member.roles.add(role); // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø±ØªØ¨Ø© Ù„Ù„Ø¹Ø¶Ùˆ
            console.log(`ØªÙ… Ø¥Ø¹Ø·Ø§Ø¡ Ø±ØªØ¨Ø© "Ø¹Ø¶Ùˆ Ø¬Ø¯ÙŠØ¯" Ù„Ù€ ${member.user.tag}`); // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©
        } catch (error) { // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
            console.error(`ÙØ´Ù„ ÙÙŠ Ø¥Ø¹Ø·Ø§Ø¡ Ø§Ù„Ø±ØªØ¨Ø©: ${error}`); // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø·Ø£
        }
    }

    // ØªÙ‡ÙŠØ¦Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    await db.set(`xp_${member.id}_${member.guild.id}`, 0); // ØªÙ‡ÙŠØ¦Ø© XP
    await db.set(`level_${member.id}_${member.guild.id}`, 0); // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù…Ø³ØªÙˆÙ‰
    await db.set(`economy_${member.id}`, 0); // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø±ØµÙŠØ¯
    await db.set(`reputation_${member.id}`, 0); // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø³Ù…Ø¹Ø©
});

// ØªØ³Ø¬ÙŠÙ„ Ù…ØºØ§Ø¯Ø±Ø© Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡
client.on('guildMemberRemove', async member => { // Ø­Ø¯Ø« Ù…ØºØ§Ø¯Ø±Ø© Ø¹Ø¶Ùˆ
    const logChannel = member.guild.channels.cache.find(ch => ch.name === 'logs'); // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ù‚Ù†Ø§Ø© Ø§Ù„Ø³Ø¬Ù„Ø§Øª
    if (!logChannel) return; // Ø§Ù„ØªÙˆÙ‚Ù Ø¥Ø°Ø§ Ù„Ù… ØªÙˆØ¬Ø¯ Ø§Ù„Ù‚Ù†Ø§Ø©

    const leaveEmbed = new Discord.EmbedBuilder() // Ø¥Ù†Ø´Ø§Ø¡ Embed Ø¬Ø¯ÙŠØ¯
        .setColor('#ff0000') // ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø£Ø­Ù…Ø±
        .setTitle('ğŸšª Ø¹Ø¶Ùˆ ØºØ§Ø¯Ø± Ø§Ù„Ø³ÙŠØ±ÙØ±') // Ø§Ù„Ø¹Ù†ÙˆØ§Ù†
        .setDescription(`ÙˆØ¯Ø§Ø¹Ù‹Ø§ ${member.user.tag}\nÙƒØ§Ù† Ù…Ø¹Ù†Ø§ Ù„Ù…Ø¯Ø©: ${Math.round((Date.now() - member.joinedTimestamp) / 86400000)} ÙŠÙˆÙ…`) // Ø§Ù„ÙˆØµÙ
        .addFields( // Ø¥Ø¶Ø§ÙØ© Ø­Ù‚ÙˆÙ„
            { name: 'ğŸ•’ ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù…', value: new Date(member.joinedTimestamp).toLocaleString(), inline: true }, // ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù…
            { name: 'ğŸ“Š Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ø¢Ù†', value: `${member.guild.memberCount}`, inline: true } // Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ø­Ø§Ù„ÙŠ
        )
        .setTimestamp(); // Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠ

    await logChannel.send({ embeds: [leaveEmbed] }); // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©
});

// Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ ÙˆØªÙ†ÙÙŠØ° Ø§Ù„Ø£ÙˆØ§Ù…Ø±
client.on('messageCreate', async message => { // Ø­Ø¯Ø« Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø©
    // ØªØ¬Ø§Ù‡Ù„ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ù…Ù† Ø§Ù„Ø¨ÙˆØªØ§Øª Ø£Ùˆ Ø¨Ø¯ÙˆÙ† Ø§Ù„Ø¨Ø§Ø¯Ø¦Ø©
    if (message.author.bot) return; // Ø§Ù„ØªÙˆÙ‚Ù Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø¨ÙˆØª Ù‡Ùˆ Ø§Ù„Ù…Ø±Ø³Ù„

    // ØªØ­Ø¯ÙŠØ« Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
    const stats = client.stats.get(message.author.id) || { messages: 0, commands: 0 }; // Ø¬Ù„Ø¨ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
    stats.messages++; // Ø²ÙŠØ§Ø¯Ø© Ø¹Ø¯Ø¯ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„
    client.stats.set(message.author.id, stats); // Ø­ÙØ¸ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª

    // Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª
    const xpToAdd = Math.floor(Math.random() * 15) + 5; // XP Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ø¨ÙŠÙ† 5 Ùˆ20
    const userXP = await db.get(`xp_${message.author.id}_${message.guild.id}`) || 0; // Ø¬Ù„Ø¨ XP Ø§Ù„Ø­Ø§Ù„ÙŠ
    const newXP = userXP + xpToAdd; // Ø¥Ø¶Ø§ÙØ© XP Ø¬Ø¯ÙŠØ¯
    await db.set(`xp_${message.author.id}_${message.guild.id}`, newXP); // Ø­ÙØ¸ XP

    const level = Math.floor(newXP / 100); // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø³ØªÙˆÙ‰
    const currentLevel = await db.get(`level_${message.author.id}_${message.guild.id}`) || 0; // Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø­Ø§Ù„ÙŠ
    if (level > currentLevel) { // Ø¥Ø°Ø§ Ø§Ø±ØªÙØ¹ Ø§Ù„Ù…Ø³ØªÙˆÙ‰
        await db.set(`level_${message.author.id}_${message.guild.id}`, level); // Ø­ÙØ¸ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø¬Ø¯ÙŠØ¯
        message.channel.send(`${message.author} ğŸ‰ Ù„Ù‚Ø¯ ÙˆØµÙ„Øª Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ${level}!`); // ØªÙ‡Ù†Ø¦Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
    }

    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø±Ø¯ÙˆØ¯ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©
    client.autoResponses.forEach((response, trigger) => { // ØªÙƒØ±Ø§Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø±Ø¯ÙˆØ¯ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©
        if (message.content.toLowerCase().includes(trigger)) { // Ø¥Ø°Ø§ Ø§Ø­ØªÙˆØª Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø­ÙØ²
            message.reply(response); // Ø§Ù„Ø±Ø¯ Ø¨Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©
        }
    });

    if (!message.content.startsWith(prefix)) return; // Ø§Ù„ØªÙˆÙ‚Ù Ø¥Ø°Ø§ Ù„Ù… ÙŠØ¨Ø¯Ø£ Ø¨Ø§Ù„Ø¨Ø§Ø¯Ø¦Ø©

    // ØªÙ‚Ø³ÙŠÙ… Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø¥Ù„Ù‰ Ø£Ù…Ø± ÙˆÙ…Ø¹Ø§Ù…Ù„Ø§Øª
    const args = message.content.slice(prefix.length).trim().split(/ +/); // ØªÙ‚Ø³ÙŠÙ… Ø§Ù„Ù†Øµ
    const commandName = args.shift().toLowerCase(); // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ø³Ù… Ø§Ù„Ø£Ù…Ø±

    // ØªØ­Ø¯ÙŠØ« Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø£ÙˆØ§Ù…Ø±
    stats.commands++; // Ø²ÙŠØ§Ø¯Ø© Ø¹Ø¯Ø¯ Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©
    client.stats.set(message.author.id, stats); // Ø­ÙØ¸ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª

    // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø£Ù…Ø±
    const command = client.commands.get(commandName) || 
                   client.commands.find(cmd => cmd.aliases && cmd.aliases.includes(commandName)); // Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø£Ùˆ Ø§Ù„Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù…Ø³ØªØ¹Ø§Ø±Ø©

    if (!command) return message.reply('âŒ Ù‡Ø°Ø§ Ø§Ù„Ø£Ù…Ø± ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯! Ø§Ø³ØªØ®Ø¯Ù… !help'); // Ø±Ø¯ Ø¥Ø°Ø§ Ù„Ù… ÙŠÙˆØ¬Ø¯ Ø§Ù„Ø£Ù…Ø±

    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø£Ø°ÙˆÙ†Ø§Øª
    if (command.permissions) { // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø£Ù…Ø± ÙŠØªØ·Ù„Ø¨ Ø£Ø°ÙˆÙ†Ø§Øª
        const authorPerms = message.channel.permissionsFor(message.author); // Ø¬Ù„Ø¨ Ø£Ø°ÙˆÙ†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        if (!authorPerms || !authorPerms.has(command.permissions)) { // Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù„Ø¯ÙŠÙ‡ Ø§Ù„Ø£Ø°ÙˆÙ†Ø§Øª
            return message.reply('â›” Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„ÙƒØ§ÙÙŠØ© Ù„Ù‡Ø°Ø§ Ø§Ù„Ø£Ù…Ø±!'); // Ø¥Ø®Ø¨Ø§Ø± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        }
    }

    // Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ‡Ø¯Ø¦Ø© (Cooldown)
    if (!client.cooldowns.has(command.name)) { // Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù‡Ù†Ø§Ùƒ ØªÙ‡Ø¯Ø¦Ø© Ù…Ø³Ø¬Ù„Ø© Ù„Ù„Ø£Ù…Ø±
        client.cooldowns.set(command.name, new Discord.Collection()); // Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¬Ù…ÙˆØ¹Ø© ØªÙ‡Ø¯Ø¦Ø© Ø¬Ø¯ÙŠØ¯Ø©
    }

    const now = Date.now(); // Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠ
    const timestamps = client.cooldowns.get(command.name); // Ø¬Ù„Ø¨ Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…
    const cooldownAmount = (command.cooldown || 3) * 1000; // Ù…Ø¯Ø© Ø§Ù„ØªÙ‡Ø¯Ø¦Ø© (Ø§ÙØªØ±Ø§Ø¶ÙŠ 3 Ø«ÙˆØ§Ù†Ù)

    if (timestamps.has(message.author.id)) { // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ø¯ÙŠÙ‡ ØªÙ‡Ø¯Ø¦Ø©
        const expirationTime = timestamps.get(message.author.id) + cooldownAmount; // ÙˆÙ‚Øª Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ØªÙ‡Ø¯Ø¦Ø©
        if (now < expirationTime) { // Ø¥Ø°Ø§ Ù„Ù… ØªÙ†ØªÙ‡ Ø§Ù„ØªÙ‡Ø¯Ø¦Ø©
            const timeLeft = (expirationTime - now) / 1000; // Ø­Ø³Ø§Ø¨ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ
            return message.reply(`â³ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± ${timeLeft.toFixed(1)} Ø«Ø§Ù†ÙŠØ© Ù‚Ø¨Ù„ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ø³ØªØ®Ø¯Ø§Ù… \`${command.name}\``); // Ø¥Ø®Ø¨Ø§Ø± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        }
    }

    timestamps.set(message.author.id, now); // ØªØ³Ø¬ÙŠÙ„ ÙˆÙ‚Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ
    setTimeout(() => timestamps.delete(message.author.id), cooldownAmount); // Ø­Ø°Ù Ø§Ù„ØªÙ‡Ø¯Ø¦Ø© Ø¨Ø¹Ø¯ Ø§Ù†ØªÙ‡Ø§Ø¦Ù‡Ø§

    // ØªÙ†ÙÙŠØ° Ø§Ù„Ø£Ù…Ø±
    try {
        await command.execute(message, args, client, db); // ØªØ´ØºÙŠÙ„ Ø§Ù„Ø£Ù…Ø± Ù…Ø¹ ØªÙ…Ø±ÙŠØ± Ø§Ù„Ù…Ø¹Ø·ÙŠØ§Øª
    } catch (error) { // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
        console.error(`Ø®Ø·Ø£ ÙÙŠ ØªÙ†ÙÙŠØ° Ø§Ù„Ø£Ù…Ø± ${command.name}: ${error}`); // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø·Ø£
        message.reply('âš ï¸ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªÙ†ÙÙŠØ° Ø§Ù„Ø£Ù…Ø±!'); // Ø¥Ø®Ø¨Ø§Ø± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
    }
});

// Ù†Ø¸Ø§Ù… Ù…ÙƒØ§ÙØ­Ø© Ø§Ù„Ø³Ø¨Ø§Ù…
const spamMap = new Map(); // Ø®Ø±ÙŠØ·Ø© Ù„ØªØªØ¨Ø¹ Ù†Ø´Ø§Ø· Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
client.on('messageCreate', message => { // Ø­Ø¯Ø« Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø©
    if (message.author.bot || message.member.permissions.has('ADMINISTRATOR')) return; // ØªØ¬Ø§Ù‡Ù„ Ø§Ù„Ø¨ÙˆØªØ§Øª ÙˆØ§Ù„Ù…Ø´Ø±ÙÙŠÙ†

    const now = Date.now(); // Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠ
    const userData = spamMap.get(message.author.id) || { count: 0, lastMessage: 0, warned: false }; // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…

    if (now - userData.lastMessage < 3000) { // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ù…ØªÙ‚Ø§Ø±Ø¨Ø©
        userData.count++; // Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø¹Ø¯Ø§Ø¯
        if (userData.count > 5 && !userData.warned) { // Ø¥Ø°Ø§ ØªØ¬Ø§ÙˆØ² 5 Ø±Ø³Ø§Ø¦Ù„ Ø¨Ø¯ÙˆÙ† ØªØ­Ø°ÙŠØ±
            message.channel.send(`${message.author}, âš ï¸ ØªÙˆÙ‚Ù Ø¹Ù† Ø§Ù„Ø³Ø¨Ø§Ù…!`); // ØªØ­Ø°ÙŠØ± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            userData.warned = true; // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ØªØ­Ø°ÙŠØ±
        } else if (userData.count > 10) { // Ø¥Ø°Ø§ ØªØ¬Ø§ÙˆØ² 10 Ø±Ø³Ø§Ø¦Ù„
            message.member.timeout(60 * 60 * 1000, 'Ø³Ø¨Ø§Ù… Ù…ÙØ±Ø·') // ÙƒØªÙ… Ù„Ù…Ø¯Ø© Ø³Ø§Ø¹Ø©
                .then(() => message.channel.send(`${message.author} ØªÙ… ØªÙ‡Ø¯Ø¦ØªÙ‡ Ù„Ù…Ø¯Ø© Ø³Ø§Ø¹Ø© Ø¨Ø³Ø¨Ø¨ Ø§Ù„Ø³Ø¨Ø§Ù…`)) // ØªØ£ÙƒÙŠØ¯ Ø§Ù„ÙƒØªÙ…
                .catch(console.error); // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø·Ø£
            spamMap.delete(message.author.id); // Ø­Ø°Ù Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            return;
        }
    } else { // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø¨Ø¹Ø¯ 3 Ø«ÙˆØ§Ù†Ù
        userData.count = 1; // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¹Ø¯Ø§Ø¯
        userData.warned = false; // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªØ­Ø°ÙŠØ±
    }

    userData.lastMessage = now; // ØªØ­Ø¯ÙŠØ« ÙˆÙ‚Øª Ø¢Ø®Ø± Ø±Ø³Ø§Ù„Ø©
    spamMap.set(message.author.id, userData); // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
});

// Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ°Ø§ÙƒØ±
client.on('messageCreate', async message => { // Ø­Ø¯Ø« Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø©
    if (message.content === '!ticket') { // Ø¹Ù†Ø¯ ÙƒØªØ§Ø¨Ø© !ticket
        const ticketChannel = await message.guild.channels.create({ // Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ù†Ø§Ø© Ø¬Ø¯ÙŠØ¯Ø©
            name: `ticket-${message.author.username}`, // Ø§Ø³Ù… Ø§Ù„Ù‚Ù†Ø§Ø©
            type: Discord.ChannelType.GuildText, // Ù†ÙˆØ¹ Ø§Ù„Ù‚Ù†Ø§Ø© Ù†ØµÙŠ
            permissionOverwrites: [ // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø£Ø°ÙˆÙ†Ø§Øª
                { id: message.guild.id, deny: [Discord.PermissionsBitField.Flags.ViewChannel] }, // Ù…Ù†Ø¹ Ø§Ù„Ø¬Ù…ÙŠØ¹
                { id: message.author.id, allow: [Discord.PermissionsBitField.Flags.ViewChannel, Discord.PermissionsBitField.Flags.SendMessages] }, // Ø§Ù„Ø³Ù…Ø§Ø­ Ù„ØµØ§Ø­Ø¨ Ø§Ù„ØªØ°ÙƒØ±Ø©
                { id: client.user.id, allow: [Discord.PermissionsBitField.Flags.ViewChannel, Discord.PermissionsBitField.Flags.SendMessages] } // Ø§Ù„Ø³Ù…Ø§Ø­ Ù„Ù„Ø¨ÙˆØª
            ]
        });

        const ticketEmbed = new Discord.EmbedBuilder() // Ø¥Ù†Ø´Ø§Ø¡ Embed
            .setColor('#ffaa00') // Ù„ÙˆÙ† Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ
            .setTitle('ğŸ« ØªØ°ÙƒØ±Ø© Ø¯Ø¹Ù… Ø¬Ø¯ÙŠØ¯Ø©') // Ø§Ù„Ø¹Ù†ÙˆØ§Ù†
            .setDescription(`Ù…Ø±Ø­Ø¨Ù‹Ø§ ${message.author}ØŒ Ø£Ø®Ø¨Ø±Ù†Ø§ Ø¨Ù…Ø´ÙƒÙ„ØªÙƒ ÙˆØ³ÙŠØ³Ø§Ø¹Ø¯Ùƒ ÙØ±ÙŠÙ‚ Ø§Ù„Ø¯Ø¹Ù… Ù‚Ø±ÙŠØ¨Ù‹Ø§\nØ§ÙƒØªØ¨ !close Ù„Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„ØªØ°ÙƒØ±Ø©`) // Ø§Ù„ÙˆØµÙ
            .addFields( // Ø¥Ø¶Ø§ÙØ© Ø­Ù‚ÙˆÙ„
                { name: 'ğŸ“Œ Ù…Ù„Ø§Ø­Ø¸Ø©', value: 'ÙƒÙ† ÙˆØ§Ø¶Ø­Ù‹Ø§ ÙÙŠ ÙˆØµÙ Ù…Ø´ÙƒÙ„ØªÙƒ', inline: true }, // Ù†ØµÙŠØ­Ø©
                { name: 'â³ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±', value: 'Ø³ÙŠØªÙ… Ø§Ù„Ø±Ø¯ Ø¹Ù„ÙŠÙƒ Ù‚Ø±ÙŠØ¨Ù‹Ø§', inline: true } // ØªÙˆÙ‚Ø¹ Ø§Ù„Ø±Ø¯
            )
            .setTimestamp(); // Ø§Ù„ÙˆÙ‚Øª

        await ticketChannel.send({ embeds: [ticketEmbed] }); // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©
        client.tickets.set(ticketChannel.id, message.author.id); // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ØªØ°ÙƒØ±Ø©
        message.reply(`âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ ØªØ°ÙƒØ±ØªÙƒ: ${ticketChannel}`); // ØªØ£ÙƒÙŠØ¯ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…
    }

    if (message.content === '!close' && client.tickets.has(message.channel.id)) { // Ø¹Ù†Ø¯ ÙƒØªØ§Ø¨Ø© !close
        await message.channel.send('ğŸ”’ Ø³ÙŠØªÙ… Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„ØªØ°ÙƒØ±Ø© Ø®Ù„Ø§Ù„ 5 Ø«ÙˆØ§Ù†Ù...'); // Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ø¥ØºÙ„Ø§Ù‚
        setTimeout(() => { // ØªØ£Ø®ÙŠØ± 5 Ø«ÙˆØ§Ù†Ù
            message.channel.delete().catch(console.error); // Ø­Ø°Ù Ø§Ù„Ù‚Ù†Ø§Ø©
            client.tickets.delete(message.channel.id); // Ø­Ø°Ù Ø§Ù„ØªØ°ÙƒØ±Ø© Ù…Ù† Ø§Ù„Ø³Ø¬Ù„
        }, 5000);
    }
});
// Ø£ÙˆØ§Ù…Ø± Ø¥Ø¯Ø§Ø±ÙŠØ©
client.commands.set('ban', { // Ø£Ù…Ø± Ø§Ù„Ø­Ø¸Ø±
    name: 'ban', // Ø§Ø³Ù… Ø§Ù„Ø£Ù…Ø±
    description: 'Ø­Ø¸Ø± Ø¹Ø¶Ùˆ Ù…Ù† Ø§Ù„Ø³ÙŠØ±ÙØ±', // Ø§Ù„ÙˆØµÙ
    permissions: ['BAN_MEMBERS'], // Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
    async execute(message, args) { // Ø¯Ø§Ù„Ø© Ø§Ù„ØªÙ†ÙÙŠØ°
        const member = message.mentions.members.first(); // Ø§Ù„Ø¹Ø¶Ùˆ Ø§Ù„Ù…Ø°ÙƒÙˆØ±
        if (!member) return message.reply('âŒ ÙŠØ±Ø¬Ù‰ Ù…Ù†Ø´Ù† Ø§Ù„Ø¹Ø¶Ùˆ Ø§Ù„Ù…Ø±Ø§Ø¯ Ø­Ø¸Ø±Ù‡'); // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø°ÙƒØ± Ø§Ù„Ø¹Ø¶Ùˆ
        if (!member.bannable) return message.reply('â›” Ù„Ø§ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ø­Ø¸Ø± Ù‡Ø°Ø§ Ø§Ù„Ø¹Ø¶Ùˆ!'); // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ù„Ø­Ø¸Ø±

        const reason = args.slice(1).join(' ') || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'; // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø³Ø¨Ø¨
        await member.ban({ reason }); // ØªÙ†ÙÙŠØ° Ø§Ù„Ø­Ø¸Ø±
        message.channel.send(`âœ… ${member.user.tag} ØªÙ… Ø­Ø¸Ø±Ù‡\nØ§Ù„Ø³Ø¨Ø¨: ${reason}`); // ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¸Ø±
    }
});

client.commands.set('kick', { // Ø£Ù…Ø± Ø§Ù„Ø·Ø±Ø¯
    name: 'kick',
    description: 'Ø·Ø±Ø¯ Ø¹Ø¶Ùˆ Ù…Ù† Ø§Ù„Ø³ÙŠØ±ÙØ±',
    permissions: ['KICK_MEMBERS'],
    async execute(message, args) {
        const member = message.mentions.members.first();
        if (!member) return message.reply('âŒ ÙŠØ±Ø¬Ù‰ Ù…Ù†Ø´Ù† Ø§Ù„Ø¹Ø¶Ùˆ Ø§Ù„Ù…Ø±Ø§Ø¯ Ø·Ø±Ø¯Ù‡');
        if (!member.kickable) return message.reply('â›” Ù„Ø§ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ø·Ø±Ø¯ Ù‡Ø°Ø§ Ø§Ù„Ø¹Ø¶Ùˆ!');

        const reason = args.slice(1).join(' ') || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯';
        await member.kick(reason);
        message.channel.send(`âœ… ${member.user.tag} ØªÙ… Ø·Ø±Ø¯Ù‡\nØ§Ù„Ø³Ø¨Ø¨: ${reason}`);
    }
});

client.commands.set('mute', { // Ø£Ù…Ø± Ø§Ù„ÙƒØªÙ…
    name: 'mute',
    description: 'ÙƒØªÙ… Ø¹Ø¶Ùˆ Ù„ÙØªØ±Ø© Ù…Ø­Ø¯Ø¯Ø©',
    permissions: ['MODERATE_MEMBERS'],
    async execute(message, args) {
        const member = message.mentions.members.first();
        if (!member) return message.reply('âŒ ÙŠØ±Ø¬Ù‰ Ù…Ù†Ø´Ù† Ø§Ù„Ø¹Ø¶Ùˆ Ø§Ù„Ù…Ø±Ø§Ø¯ ÙƒØªÙ…Ù‡');
        const time = parseInt(args[1]) || 60; // Ø§Ù„Ù…Ø¯Ø© Ø¨Ø§Ù„Ø¯Ù‚Ø§Ø¦Ù‚ (Ø§ÙØªØ±Ø§Ø¶ÙŠ 60)

        await member.timeout(time * 60 * 1000, 'ÙƒØªÙ… Ø¨ÙˆØ§Ø³Ø·Ø© Ù…Ø´Ø±Ù');
        message.channel.send(`ğŸ”‡ ${member.user.tag} ØªÙ… ÙƒØªÙ…Ù‡ Ù„Ù…Ø¯Ø© ${time} Ø¯Ù‚ÙŠÙ‚Ø©`);
    }
});

client.commands.set('clear', { // Ø£Ù…Ø± Ø­Ø°Ù Ø§Ù„Ø±Ø³Ø§Ø¦Ù„
    name: 'clear',
    description: 'Ø­Ø°Ù Ø¹Ø¯Ø¯ Ù…Ø­Ø¯Ø¯ Ù…Ù† Ø§Ù„Ø±Ø³Ø§Ø¦Ù„',
    permissions: ['MANAGE_MESSAGES'],
    async execute(message, args) {
        const amount = parseInt(args[0]);
        if (!amount || amount < 1 || amount > 100) return message.reply('âŒ ÙŠØ±Ø¬Ù‰ ØªØ­Ø¯ÙŠØ¯ Ø¹Ø¯Ø¯ Ø¨ÙŠÙ† 1 Ùˆ100');

        await message.channel.bulkDelete(amount, true);
        message.channel.send(`ğŸ§¹ ØªÙ… Ø­Ø°Ù ${amount} Ø±Ø³Ø§Ù„Ø©`).then(msg => setTimeout(() => msg.delete(), 3000));
    }
});

// Ù†Ø¸Ø§Ù… Ø§Ù„Ø§Ù‚ØªØµØ§Ø¯ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
client.commands.set('balance', { // Ø£Ù…Ø± Ø¹Ø±Ø¶ Ø§Ù„Ø±ØµÙŠØ¯
    name: 'balance',
    description: 'Ø¹Ø±Ø¶ Ø±ØµÙŠØ¯Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠ',
    async execute(message, args, client, db) {
        const balance = await db.get(`economy_${message.author.id}`) || 0; // Ø¬Ù„Ø¨ Ø§Ù„Ø±ØµÙŠØ¯
        message.reply(`ğŸ’° Ø±ØµÙŠØ¯Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠ: ${balance} Ø¹Ù…Ù„Ø©`); // Ø¹Ø±Ø¶ Ø§Ù„Ø±ØµÙŠØ¯
    }
});

client.commands.set('work', { // Ø£Ù…Ø± Ø§Ù„Ø¹Ù…Ù„
    name: 'work',
    description: 'Ø§Ù„Ø¹Ù…Ù„ Ù„ÙƒØ³Ø¨ Ø§Ù„Ø¹Ù…Ù„Ø§Øª',
    cooldown: 60, // ØªÙ‡Ø¯Ø¦Ø© Ø¯Ù‚ÙŠÙ‚Ø©
    async execute(message, args, client, db) {
        const earnings = Math.floor(Math.random() * 100) + 50; // Ø£Ø±Ø¨Ø§Ø­ Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©
        const currentBalance = await db.get(`economy_${message.author.id}`) || 0; // Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠ
        await db.set(`economy_${message.author.id}`, currentBalance + earnings); // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø±ØµÙŠØ¯
        message.reply(`ğŸ‘·â€â™‚ï¸ Ù„Ù‚Ø¯ Ø¹Ù…Ù„Øª ÙˆÙƒØ³Ø¨Øª ${earnings} Ø¹Ù…Ù„Ø©! Ø±ØµÙŠØ¯Ùƒ Ø§Ù„Ø¢Ù†: ${currentBalance + earnings}`); // ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­
    }
});

client.commands.set('shop', { // Ø£Ù…Ø± Ø¹Ø±Ø¶ Ø§Ù„Ù…ØªØ¬Ø±
    name: 'shop',
    description: 'Ø¹Ø±Ø¶ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…ØªØ§Ø­Ø© Ù„Ù„Ø´Ø±Ø§Ø¡',
    execute(message) {
        const shopEmbed = new Discord.EmbedBuilder()
            .setColor('#ffcc00')
            .setTitle('ğŸª Ø§Ù„Ù…ØªØ¬Ø±')
            .addFields(
                { name: '1. Ø±ØªØ¨Ø© VIP', value: 'Ø§Ù„Ø³Ø¹Ø±: 1000 Ø¹Ù…Ù„Ø©\nØ§ÙƒØªØ¨ !buy vip', inline: true },
                { name: '2. Ù„ÙˆÙ† Ù…Ø®ØµØµ', value: 'Ø§Ù„Ø³Ø¹Ø±: 500 Ø¹Ù…Ù„Ø©\nØ§ÙƒØªØ¨ !buy color', inline: true },
                { name: '3. Ø´Ø§Ø±Ø© Ù…Ù…ÙŠØ²Ø©', value: 'Ø§Ù„Ø³Ø¹Ø±: 750 Ø¹Ù…Ù„Ø©\nØ§ÙƒØªØ¨ !buy badge', inline: true },
                { name: '4. Ù‚Ù†Ø§Ø© Ø®Ø§ØµØ©', value: 'Ø§Ù„Ø³Ø¹Ø±: 2000 Ø¹Ù…Ù„Ø©\nØ§ÙƒØªØ¨ !buy channel', inline: true }
            );
        message.channel.send({ embeds: [shopEmbed] });
    }
});

client.commands.set('buy', { // Ø£Ù…Ø± Ø§Ù„Ø´Ø±Ø§Ø¡
    name: 'buy',
    description: 'Ø´Ø±Ø§Ø¡ Ø¹Ù†ØµØ± Ù…Ù† Ø§Ù„Ù…ØªØ¬Ø±',
    async execute(message, args, client, db) {
        const item = args[0]?.toLowerCase(); // Ø§Ù„Ø¹Ù†ØµØ± Ø§Ù„Ù…Ø·Ù„ÙˆØ¨
        const balance = await db.get(`economy_${message.author.id}`) || 0; // Ø¬Ù„Ø¨ Ø§Ù„Ø±ØµÙŠØ¯

        if (!item) return message.reply('âŒ ÙŠØ±Ø¬Ù‰ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø¹Ù†ØµØ± Ø§Ù„Ù…Ø±Ø§Ø¯ Ø´Ø±Ø§Ø¤Ù‡');

        if (item === 'vip' && balance >= 1000) { // Ø´Ø±Ø§Ø¡ Ø±ØªØ¨Ø© VIP
            await db.sub(`economy_${message.author.id}`, 1000);
            const role = message.guild.roles.cache.find(r => r.name === 'VIP');
            if (role) message.member.roles.add(role);
            message.reply('ğŸ‰ ØªÙ… Ø´Ø±Ø§Ø¡ Ø±ØªØ¨Ø© VIP Ø¨Ù†Ø¬Ø§Ø­!');
        } else if (item === 'color' && balance >= 500) { // Ø´Ø±Ø§Ø¡ Ù„ÙˆÙ† Ù…Ø®ØµØµ
            await db.sub(`economy_${message.author.id}`, 500);
            message.reply('ğŸŒˆ ØªÙ… Ø´Ø±Ø§Ø¡ Ù„ÙˆÙ† Ù…Ø®ØµØµ! ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ù…Ø´Ø±ÙÙŠÙ† Ù„Ø§Ø®ØªÙŠØ§Ø±Ù‡');
        } else if (item === 'badge' && balance >= 750) { // Ø´Ø±Ø§Ø¡ Ø´Ø§Ø±Ø©
            await db.sub(`economy_${message.author.id}`, 750);
            message.reply('ğŸ… ØªÙ… Ø´Ø±Ø§Ø¡ Ø´Ø§Ø±Ø© Ù…Ù…ÙŠØ²Ø©! Ø³ØªØ¸Ù‡Ø± ÙÙŠ Ù…Ù„ÙÙƒ Ø§Ù„Ø´Ø®ØµÙŠ');
        } else if (item === 'channel' && balance >= 2000) { // Ø´Ø±Ø§Ø¡ Ù‚Ù†Ø§Ø© Ø®Ø§ØµØ©
            await db.sub(`economy_${message.author.id}`, 2000);
            const channel = await message.guild.channels.create({
                name: `${message.author.username}-private`,
                type: Discord.ChannelType.GuildText,
                permissionOverwrites: [
                    { id: message.guild.id, deny: [Discord.PermissionsBitField.Flags.ViewChannel] },
                    { id: message.author.id, allow: [Discord.PermissionsBitField.Flags.ViewChannel, Discord.PermissionsBitField.Flags.SendMessages] }
                ]
            });
            message.reply(`ğŸ“¡ ØªÙ… Ø´Ø±Ø§Ø¡ Ù‚Ù†Ø§Ø© Ø®Ø§ØµØ©: ${channel}`);
        } else {
            message.reply('âŒ Ø¥Ù…Ø§ Ø£Ù† Ø§Ù„Ø¹Ù†ØµØ± ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯ Ø£Ùˆ Ø±ØµÙŠØ¯Ùƒ ØºÙŠØ± ÙƒØ§ÙÙ');
        }
    }
});

// Ù†Ø¸Ø§Ù… Ø§Ù„Ø³Ù…Ø¹Ø©
client.commands.set('rep', { // Ø£Ù…Ø± Ø¥Ø¹Ø·Ø§Ø¡ Ø³Ù…Ø¹Ø©
    name: 'rep',
    description: 'Ø¥Ø¹Ø·Ø§Ø¡ Ø³Ù…Ø¹Ø© Ù„Ø¹Ø¶Ùˆ',
    cooldown: 3600, // ØªÙ‡Ø¯Ø¦Ø© Ø³Ø§Ø¹Ø©
    async execute(message, args, client, db) {
        const member = message.mentions.members.first(); // Ø§Ù„Ø¹Ø¶Ùˆ Ø§Ù„Ù…Ø°ÙƒÙˆØ±
        if (!member) return message.reply('âŒ ÙŠØ±Ø¬Ù‰ Ù…Ù†Ø´Ù† Ø§Ù„Ø¹Ø¶Ùˆ Ù„Ø¥Ø¹Ø·Ø§Ø¦Ù‡ Ø³Ù…Ø¹Ø©');
        if (member.id === message.author.id) return message.reply('â›” Ù„Ø§ ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¹Ø·Ø§Ø¡ Ù†ÙØ³Ùƒ Ø³Ù…Ø¹Ø©!');

        const rep = await db.get(`reputation_${member.id}`) || 0; // Ø¬Ù„Ø¨ Ø§Ù„Ø³Ù…Ø¹Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
        await db.set(`reputation_${member.id}`, rep + 1); // Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø³Ù…Ø¹Ø©
        message.reply(`ğŸ‘ Ù„Ù‚Ø¯ Ø£Ø¹Ø·ÙŠØª ${member.user.tag} Ù†Ù‚Ø·Ø© Ø³Ù…Ø¹Ø©! Ø±ØµÙŠØ¯Ù‡ Ø§Ù„Ø¢Ù†: ${rep + 1}`); // ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¥Ø¹Ø·Ø§Ø¡
    }
});

client.commands.set('reputation', { // Ø£Ù…Ø± Ø¹Ø±Ø¶ Ø§Ù„Ø³Ù…Ø¹Ø©
    name: 'reputation',
    description: 'Ø¹Ø±Ø¶ Ø³Ù…Ø¹Ø© Ø¹Ø¶Ùˆ',
    async execute(message, args, client, db) {
        const member = message.mentions.members.first() || message.member; // Ø§Ù„Ø¹Ø¶Ùˆ Ø§Ù„Ù…Ø°ÙƒÙˆØ± Ø£Ùˆ Ø§Ù„Ù…Ø±Ø³Ù„
        const rep = await db.get(`reputation_${member.id}`) || 0; // Ø¬Ù„Ø¨ Ø§Ù„Ø³Ù…Ø¹Ø©
        message.reply(`ğŸŒŸ Ø³Ù…Ø¹Ø© ${member.user.tag}: ${rep} Ù†Ù‚Ø·Ø©`); // Ø¹Ø±Ø¶ Ø§Ù„Ø³Ù…Ø¹Ø©
    }
});

// Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
client.commands.set('stats', { // Ø£Ù…Ø± Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
    name: 'stats',
    description: 'Ø¹Ø±Ø¶ Ø¥Ø­ØµØ§Ø¦ÙŠØ§ØªÙƒ',
    execute(message) {
        const stats = client.stats.get(message.author.id) || { messages: 0, commands: 0 }; // Ø¬Ù„Ø¨ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
        const statEmbed = new Discord.EmbedBuilder()
            .setColor('#00aaff')
            .setTitle(`ğŸ“Š Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ${message.author.username}`)
            .addFields(
                { name: 'ğŸ“© Ø¹Ø¯Ø¯ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„', value: `${stats.messages}`, inline: true },
                { name: 'ğŸ› ï¸ Ø¹Ø¯Ø¯ Ø§Ù„Ø£ÙˆØ§Ù…Ø±', value: `${stats.commands}`, inline: true },
                { name: 'â° ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù…', value: message.member.joinedAt.toLocaleString(), inline: true }
            );
        message.channel.send({ embeds: [statEmbed] });
    }
});

// Ø§Ù„Ø±Ø¯ÙˆØ¯ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©
client.commands.set('addresponse', { // Ø£Ù…Ø± Ø¥Ø¶Ø§ÙØ© Ø±Ø¯ ØªÙ„Ù‚Ø§Ø¦ÙŠ
    name: 'addresponse',
    description: 'Ø¥Ø¶Ø§ÙØ© Ø±Ø¯ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„ÙƒÙ„Ù…Ø© Ù…Ø¹ÙŠÙ†Ø©',
    permissions: ['MANAGE_GUILD'],
    execute(message, args) {
        const trigger = args[0]; // Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø­ÙØ²Ø©
        const response = args.slice(1).join(' '); // Ø§Ù„Ø±Ø¯
        if (!trigger || !response) return message.reply('âŒ ÙŠØ±Ø¬Ù‰ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø­ÙØ²Ø© ÙˆØ§Ù„Ø±Ø¯');

        client.autoResponses.set(trigger.toLowerCase(), response); // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø±Ø¯
        message.reply(`âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø±Ø¯ ØªÙ„Ù‚Ø§Ø¦ÙŠ: "${trigger}" -> "${response}"`);
    }
});

client.commands.set('removeresponse', { // Ø£Ù…Ø± Ø­Ø°Ù Ø±Ø¯ ØªÙ„Ù‚Ø§Ø¦ÙŠ
    name: 'removeresponse',
    description: 'Ø­Ø°Ù Ø±Ø¯ ØªÙ„Ù‚Ø§Ø¦ÙŠ',
    permissions: ['MANAGE_GUILD'],
    execute(message, args) {
        const trigger = args[0]; // Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø­ÙØ²Ø©
        if (!trigger) return message.reply('âŒ ÙŠØ±Ø¬Ù‰ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø­ÙØ²Ø©');
        if (!client.autoResponses.has(trigger.toLowerCase())) return message.reply('âŒ Ù‡Ø°Ø§ Ø§Ù„Ø±Ø¯ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯');

        client.autoResponses.delete(trigger.toLowerCase()); // Ø­Ø°Ù Ø§Ù„Ø±Ø¯
        message.reply(`âœ… ØªÙ… Ø­Ø°Ù Ø§Ù„Ø±Ø¯ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù€ "${trigger}"`);
    }
});

// Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù‚Ù†ÙˆØ§Øª ÙˆØ§Ù„Ø±ØªØ¨
client.commands.set('createchannel', { // Ø£Ù…Ø± Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ù†Ø§Ø©
    name: 'createchannel',
    description: 'Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ù†Ø§Ø© Ù†ØµÙŠØ© Ø¬Ø¯ÙŠØ¯Ø©',
    permissions: ['MANAGE_CHANNELS'],
    async execute(message, args) {
        const name = args.join('-') || 'new-channel'; // Ø§Ø³Ù… Ø§Ù„Ù‚Ù†Ø§Ø©
        await message.guild.channels.create({ name, type: Discord.ChannelType.GuildText });
        message.reply(`âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ù†Ø§Ø©: ${name}`);
    }
});

client.commands.set('addrole', { // Ø£Ù…Ø± Ø¥Ø¶Ø§ÙØ© Ø±ØªØ¨Ø©
    name: 'addrole',
    description: 'Ø¥Ø¶Ø§ÙØ© Ø±ØªØ¨Ø© Ù„Ø¹Ø¶Ùˆ',
    permissions: ['MANAGE_ROLES'],
    async execute(message, args) {
        const member = message.mentions.members.first();
        const roleName = args.slice(1).join(' ');
        const role = message.guild.roles.cache.find(r => r.name === roleName);
        
        if (!member || !role) return message.reply('âŒ ÙŠØ±Ø¬Ù‰ Ù…Ù†Ø´Ù† Ø§Ù„Ø¹Ø¶Ùˆ ÙˆØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø±ØªØ¨Ø©');
        await member.roles.add(role);
        message.reply(`âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø±ØªØ¨Ø© ${role.name} Ù„Ù€ ${member.user.tag}`);
    }
});

client.commands.set('removerole', { // Ø£Ù…Ø± Ø¥Ø²Ø§Ù„Ø© Ø±ØªØ¨Ø©
    name: 'removerole',
    description: 'Ø¥Ø²Ø§Ù„Ø© Ø±ØªØ¨Ø© Ù…Ù† Ø¹Ø¶Ùˆ',
    permissions: ['MANAGE_ROLES'],
    async execute(message, args) {
        const member = message.mentions.members.first();
        const roleName = args.slice(1).join(' ');
        const role = message.guild.roles.cache.find(r => r.name === roleName);
        
        if (!member || !role) return message.reply('âŒ ÙŠØ±Ø¬Ù‰ Ù…Ù†Ø´Ù† Ø§Ù„Ø¹Ø¶Ùˆ ÙˆØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø±ØªØ¨Ø©');
        await member.roles.remove(role);
        message.reply(`âœ… ØªÙ… Ø¥Ø²Ø§Ù„Ø© Ø±ØªØ¨Ø© ${role.name} Ù…Ù† ${member.user.tag}`);
    }
});
// ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù…ÙˆØ³Ø¹
client.on('messageDelete', async message => { // Ø­Ø¯Ø« Ø­Ø°Ù Ø±Ø³Ø§Ù„Ø©
    const logChannel = message.guild.channels.cache.find(ch => ch.name === 'logs');
    if (!logChannel || !message.content) return;

    const deleteEmbed = new Discord.EmbedBuilder()
        .setColor('#ff5555')
        .setTitle('ğŸ—‘ï¸ Ø±Ø³Ø§Ù„Ø© Ù…Ø­Ø°ÙˆÙØ©')
        .addFields(
            { name: 'Ø§Ù„Ù…Ø±Ø³Ù„', value: `${message.author.tag}`, inline: true },
            { name: 'Ø§Ù„Ù‚Ù†Ø§Ø©', value: `${message.channel.name}`, inline: true },
            { name: 'Ø§Ù„Ù…Ø­ØªÙˆÙ‰', value: message.content || 'ØºÙŠØ± Ù…ØªØ§Ø­' },
            { name: 'Ø§Ù„ÙˆÙ‚Øª', value: new Date().toLocaleString(), inline: true }
        )
        .setTimestamp();
    await logChannel.send({ embeds: [deleteEmbed] });
});

client.on('messageUpdate', async (oldMessage, newMessage) => { // Ø­Ø¯Ø« ØªØ¹Ø¯ÙŠÙ„ Ø±Ø³Ø§Ù„Ø©
    const logChannel = newMessage.guild.channels.cache.find(ch => ch.name === 'logs');
    if (!logChannel || oldMessage.content === newMessage.content) return;

    const editEmbed = new Discord.EmbedBuilder()
        .setColor('#ffff55')
        .setTitle('âœï¸ Ø±Ø³Ø§Ù„Ø© Ù…Ø¹Ø¯Ù„Ø©')
        .addFields(
            { name: 'Ø§Ù„Ù…Ø±Ø³Ù„', value: `${newMessage.author.tag}`, inline: true },
            { name: 'Ø§Ù„Ù‚Ù†Ø§Ø©', value: `${newMessage.channel.name}`, inline: true },
            { name: 'Ù‚Ø¨Ù„', value: oldMessage.content || 'ØºÙŠØ± Ù…ØªØ§Ø­', inline: false },
            { name: 'Ø¨Ø¹Ø¯', value: newMessage.content || 'ØºÙŠØ± Ù…ØªØ§Ø­', inline: false }
        )
        .setTimestamp();
    await logChannel.send({ embeds: [editEmbed] });
});

client.on('roleUpdate', async (oldRole, newRole) => { // Ø­Ø¯Ø« ØªØ­Ø¯ÙŠØ« Ø±ØªØ¨Ø©
    const logChannel = newRole.guild.channels.cache.find(ch => ch.name === 'logs');
    if (!logChannel) return;

    const roleEmbed = new Discord.EmbedBuilder()
        .setColor('#55ff55')
        .setTitle('ğŸ”§ ØªØ­Ø¯ÙŠØ« Ø±ØªØ¨Ø©')
        .addFields(
            { name: 'Ø§Ù„Ø±ØªØ¨Ø©', value: newRole.name, inline: true },
            { name: 'Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ù‚Ø¯ÙŠÙ…', value: `${oldRole.hexColor}`, inline: true },
            { name: 'Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø¬Ø¯ÙŠØ¯', value: `${newRole.hexColor}`, inline: true }
        )
        .setTimestamp();
    await logChannel.send({ embeds: [roleEmbed] });
});

client.on('channelCreate', async channel => { // Ø­Ø¯Ø« Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ù†Ø§Ø©
    const logChannel = channel.guild.channels.cache.find(ch => ch.name === 'logs');
    if (!logChannel) return;

    const channelEmbed = new Discord.EmbedBuilder()
        .setColor('#00ffaa')
        .setTitle('ğŸ“¡ Ù‚Ù†Ø§Ø© Ø¬Ø¯ÙŠØ¯Ø©')
        .addFields(
            { name: 'Ø§Ø³Ù… Ø§Ù„Ù‚Ù†Ø§Ø©', value: channel.name, inline: true },
            { name: 'Ø§Ù„Ù†ÙˆØ¹', value: channel.type === Discord.ChannelType.GuildText ? 'Ù†ØµÙŠØ©' : 'ØµÙˆØªÙŠØ©', inline: true }
        )
        .setTimestamp();
    await logChannel.send({ embeds: [channelEmbed] });
});

// Ø£ÙˆØ§Ù…Ø± ØªØ±ÙÙŠÙ‡ÙŠØ© ÙˆØ£Ù„Ø¹Ø§Ø¨
client.commands.set('meme', { // Ø£Ù…Ø± Ø¹Ø±Ø¶ Ù…ÙŠÙ…
    name: 'meme',
    description: 'Ø¹Ø±Ø¶ Ù…ÙŠÙ… Ø¹Ø´ÙˆØ§Ø¦ÙŠ',
    execute(message) {
        const memes = [ // Ù‚Ø§Ø¦Ù…Ø© Ø·ÙˆÙŠÙ„Ø© Ù…Ù† Ø§Ù„Ù…ÙŠÙ…Ø§Øª
            'https://i.imgur.com/abc123.jpg', 'https://i.imgur.com/def456.jpg',
            'https://i.imgur.com/ghi789.jpg', 'https://i.imgur.com/jkl012.jpg',
            'https://i.imgur.com/mno345.jpg', 'https://i.imgur.com/pqr678.jpg',
            'https://i.imgur.com/stu901.jpg', 'https://i.imgur.com/vwx234.jpg',
            'https://i.imgur.com/yz5678.jpg', 'https://i.imgur.com/abc901.jpg'
        ];
        const randomMeme = memes[Math.floor(Math.random() * memes.length)];
        message.channel.send({ embeds: [new Discord.EmbedBuilder().setImage(randomMeme)] });
    }
});

client.commands.set('rps', { // Ø£Ù…Ø± Ù„Ø¹Ø¨Ø© Ø­Ø¬Ø±Ø© ÙˆØ±Ù‚Ø© Ù…Ù‚Øµ
    name: 'rps',
    description: 'Ù„Ø¹Ø¨Ø© Ø­Ø¬Ø±Ø© ÙˆØ±Ù‚Ø© Ù…Ù‚Øµ Ø¶Ø¯ Ø§Ù„Ø¨ÙˆØª',
    execute(message, args) {
        const choices = ['Ø­Ø¬Ø±Ø©', 'ÙˆØ±Ù‚Ø©', 'Ù…Ù‚Øµ'];
        const userChoice = args[0]?.toLowerCase();
        if (!choices.includes(userChoice)) return message.reply('âŒ Ø§Ø®ØªØ±: Ø­Ø¬Ø±Ø©ØŒ ÙˆØ±Ù‚Ø©ØŒ Ø£Ùˆ Ù…Ù‚Øµ');

        const botChoice = choices[Math.floor(Math.random() * 3)];
        let result;

        if (userChoice === botChoice) result = 'ØªØ¹Ø§Ø¯Ù„!';
        else if (
            (userChoice === 'Ø­Ø¬Ø±Ø©' && botChoice === 'Ù…Ù‚Øµ') ||
            (userChoice === 'ÙˆØ±Ù‚Ø©' && botChoice === 'Ø­Ø¬Ø±Ø©') ||
            (userChoice === 'Ù…Ù‚Øµ' && botChoice === 'ÙˆØ±Ù‚Ø©')
        ) result = 'ÙØ²Øª!';
        else result = 'Ø®Ø³Ø±Øª!';

        message.reply(`Ø£Ù†Øª Ø§Ø®ØªØ±Øª: ${userChoice}\nØ£Ù†Ø§ Ø§Ø®ØªØ±Øª: ${botChoice}\nØ§Ù„Ù†ØªÙŠØ¬Ø©: ${result}`);
    }
});

client.commands.set('quiz', { // Ø£Ù…Ø± Ø§Ø®ØªØ¨Ø§Ø±
    name: 'quiz',
    description: 'Ø§Ø®ØªØ¨Ø§Ø± Ø¨Ø³ÙŠØ· Ù…Ø¹ Ø£Ø³Ø¦Ù„Ø© Ù…ØªÙ†ÙˆØ¹Ø©',
    execute(message) {
        const questions = [ // Ù‚Ø§Ø¦Ù…Ø© Ø·ÙˆÙŠÙ„Ø© Ù…Ù† Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
            { question: 'Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© ÙØ±Ù†Ø³Ø§ØŸ', answer: 'Ø¨Ø§Ø±ÙŠØ³' },
            { question: 'ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„ÙƒÙˆØ§ÙƒØ¨ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø´Ù…Ø³ÙŠØŸ', answer: '8' },
            { question: 'Ù…Ø§ Ù‡Ùˆ Ø£ÙƒØ¨Ø± Ù…Ø­ÙŠØ· ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ', answer: 'Ø§Ù„Ù…Ø­ÙŠØ· Ø§Ù„Ù‡Ø§Ø¯Ø¦' },
            { question: 'Ù…Ù† ÙƒØªØ¨ Ø±ÙˆÙ…ÙŠÙˆ ÙˆØ¬ÙˆÙ„ÙŠÙŠØªØŸ', answer: 'Ø´ÙƒØ³Ø¨ÙŠØ±' },
            { question: 'Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø¹Ù†ØµØ± Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠ Ù„Ù„Ù…Ø§Ø¡ØŸ', answer: 'H2O' },
            { question: 'ÙƒÙ… Ø¹Ø¯Ø¯ Ø£ÙŠØ§Ù… Ø§Ù„Ø³Ù†Ø©ØŸ', answer: '365' },
            { question: 'Ù…Ø§ Ù‡Ùˆ Ù„ÙˆÙ† Ø§Ù„Ø³Ù…Ø§Ø¡ ÙÙŠ ÙŠÙˆÙ… Ù…Ø´Ù…Ø³ØŸ', answer: 'Ø£Ø²Ø±Ù‚' },
            { question: 'Ù…Ù† Ù‡Ùˆ Ø£ÙˆÙ„ Ø±Ø¦ÙŠØ³ Ù„Ù„ÙˆÙ„Ø§ÙŠØ§Øª Ø§Ù„Ù…ØªØ­Ø¯Ø©ØŸ', answer: 'Ø¬ÙˆØ±Ø¬ ÙˆØ§Ø´Ù†Ø·Ù†' },
            { question: 'ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„Ù‚Ø§Ø±Ø§Øª ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ', answer: '7' },
            { question: 'Ù…Ø§ Ù‡ÙŠ Ø£Ø·ÙˆÙ„ Ø³Ù„Ø³Ù„Ø© Ø¬Ø¨Ø§Ù„ ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ', answer: 'Ø¬Ø¨Ø§Ù„ Ø§Ù„Ø£Ù†Ø¯ÙŠØ²' }
        ];
        const q = questions[Math.floor(Math.random() * questions.length)];
        message.channel.send(`ğŸ“ ${q.question}\nÙ„Ø¯ÙŠÙƒ 15 Ø«Ø§Ù†ÙŠØ© Ù„Ù„Ø¥Ø¬Ø§Ø¨Ø©!`);

        const filter = response => response.author.id === message.author.id;
        message.channel.awaitMessages({ filter, max: 1, time: 15000, errors: ['time'] })
            .then(collected => {
                if (collected.first().content.toLowerCase() === q.answer.toLowerCase()) {
                    message.reply('âœ… Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©!');
                } else {
                    message.reply(`âŒ Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©! Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ù‡ÙŠ: ${q.answer}`);
                }
            })
            .catch(() => message.reply('â° Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª!'));
    }
});

// Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©
client.commands.set('help', { // Ø£Ù…Ø± Ø¹Ø±Ø¶ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£ÙˆØ§Ù…Ø±
    name: 'help',
    description: 'Ø¹Ø±Ø¶ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ù…ØªØ§Ø­Ø©',
    execute(message) {
        const helpEmbed = new Discord.EmbedBuilder()
            .setColor('#0099ff')
            .setTitle('ğŸ“š Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£ÙˆØ§Ù…Ø±')
            .setDescription('Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ù…ØªØ§Ø­Ø© Ù„Ù„Ø¨ÙˆØª:')
            .addFields(
                { name: '!help', value: 'Ø¹Ø±Ø¶ Ù‡Ø°Ù‡ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©', inline: true },
                { name: '!ban @user [reason]', value: 'Ø­Ø¸Ø± Ø¹Ø¶Ùˆ', inline: true },
                { name: '!kick @user [reason]', value: 'Ø·Ø±Ø¯ Ø¹Ø¶Ùˆ', inline: true },
                { name: '!mute @user [time]', value: 'ÙƒØªÙ… Ø¹Ø¶Ùˆ', inline: true },
                { name: '!clear [amount]', value: 'Ø­Ø°Ù Ø±Ø³Ø§Ø¦Ù„', inline: true },
                { name: '!ticket', value: 'ÙØªØ­ ØªØ°ÙƒØ±Ø© Ø¯Ø¹Ù…', inline: true },
                { name: '!close', value: 'Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„ØªØ°ÙƒØ±Ø©', inline: true },
                { name: '!balance', value: 'Ø¹Ø±Ø¶ Ø±ØµÙŠØ¯Ùƒ', inline: true },
                { name: '!work', value: 'Ø§Ù„Ø¹Ù…Ù„ Ù„ÙƒØ³Ø¨ Ø§Ù„Ø¹Ù…Ù„Ø§Øª', inline: true },
                { name: '!shop', value: 'Ø¹Ø±Ø¶ Ø§Ù„Ù…ØªØ¬Ø±', inline: true },
                { name: '!buy [item]', value: 'Ø´Ø±Ø§Ø¡ Ø¹Ù†ØµØ±', inline: true },
                { name: '!rep @user', value: 'Ø¥Ø¹Ø·Ø§Ø¡ Ø³Ù…Ø¹Ø©', inline: true },
                { name: '!reputation [@user]', value: 'Ø¹Ø±Ø¶ Ø§Ù„Ø³Ù…Ø¹Ø©', inline: true },
                { name: '!stats', value: 'Ø¹Ø±Ø¶ Ø¥Ø­ØµØ§Ø¦ÙŠØ§ØªÙƒ', inline: true },
                { name: '!addresponse [trigger] [response]', value: 'Ø¥Ø¶Ø§ÙØ© Ø±Ø¯ ØªÙ„Ù‚Ø§Ø¦ÙŠ', inline: true },
                { name: '!removeresponse [trigger]', value: 'Ø­Ø°Ù Ø±Ø¯ ØªÙ„Ù‚Ø§Ø¦ÙŠ', inline: true },
                { name: '!createchannel [name]', value: 'Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ù†Ø§Ø©', inline: true },
                { name: '!addrole @user [role]', value: 'Ø¥Ø¶Ø§ÙØ© Ø±ØªØ¨Ø©', inline: true },
                { name: '!removerole @user [role]', value: 'Ø¥Ø²Ø§Ù„Ø© Ø±ØªØ¨Ø©', inline: true },
                { name: '!meme', value: 'Ø¹Ø±Ø¶ Ù…ÙŠÙ… Ø¹Ø´ÙˆØ§Ø¦ÙŠ', inline: true },
                { name: '!rps [choice]', value: 'Ù„Ø¹Ø¨Ø© Ø­Ø¬Ø±Ø© ÙˆØ±Ù‚Ø© Ù…Ù‚Øµ', inline: true },
                { name: '!quiz', value: 'Ø§Ø®ØªØ¨Ø§Ø± Ø¨Ø³ÙŠØ·', inline: true }
            )
            .setFooter({ text: `Ø§Ù„Ø¨Ø§Ø¯Ø¦Ø©: ${prefix} | ØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ« ÙÙŠ ${new Date().toLocaleDateString()}` })
            .setTimestamp();
        message.channel.send({ embeds: [helpEmbed] });
    }
});

// Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
client.on('error', error => console.error('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¨ÙˆØª:', error)); // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø¹Ø§Ù…Ø©
client.on('warn', warning => console.warn('ØªØ­Ø°ÙŠØ±:', warning)); // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ØªØ­Ø°ÙŠØ±Ø§Øª
client.on('shardError', error => console.error('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø´Ø§Ø±Ø¯:', error)); // ØªØ³Ø¬ÙŠÙ„ Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø´Ø§Ø±Ø¯

// ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
client.login(config.token) // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØªÙˆÙƒÙ†
    .then(() => console.log('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­')) // ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù†Ø¬Ø§Ø­
    .catch(err => console.error('ÙØ´Ù„ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„:', err)); // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ÙØ´Ù„
